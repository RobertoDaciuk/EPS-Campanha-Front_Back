# ==================== EPS CAMPANHAS - ENVIRONMENT VARIABLES ====================
# Este arquivo contém todas as variáveis de ambiente necessárias para o sistema
# Copie para .env e configure os valores apropriados para seu ambiente

# ==================== SERVIDOR ====================
# Porta onde o servidor irá rodar
PORT=3001

# Host do servidor (0.0.0.0 para aceitar todas as conexões)
HOST=0.0.0.0

# Ambiente de execução (development, production, test)
NODE_ENV=development

# Versão da API
API_VERSION=v1

# ==================== DATABASE ====================
# URL de conexão com PostgreSQL
# Formato: postgresql://usuario:senha@host:porta/database?schema=public
DATABASE_URL="postgresql://eps_user:eps_password@localhost:5432/eps_campanhas?schema=public"

# URL para shadow database (usado em migrações de desenvolvimento)
SHADOW_DATABASE_URL="postgresql://eps_user:eps_password@localhost:5432/eps_campanhas_shadow?schema=public"

# Pool de conexões do banco
DATABASE_POOL_SIZE=10
DATABASE_CONNECTION_TIMEOUT=60000
DATABASE_POOL_TIMEOUT=60000

# ==================== AUTENTICAÇÃO JWT ====================
# Chave secreta para assinar tokens JWT (MUDE EM PRODUÇÃO!)
JWT_SECRET="sua-chave-secreta-super-segura-aqui-mude-em-producao"

# Tempo de expiração do token de acesso (em segundos)
JWT_EXPIRES_IN=3600

# Chave para refresh tokens (DIFERENTE da JWT_SECRET!)
JWT_REFRESH_SECRET="sua-chave-refresh-diferente-e-secreta"

# Tempo de expiração do refresh token (em segundos)
JWT_REFRESH_EXPIRES_IN=2592000

# Issuer do JWT
JWT_ISSUER="eps-campanhas-api"

# Audience do JWT
JWT_AUDIENCE="eps-campanhas-users"

# ==================== CORS ====================
# URLs permitidas para CORS (separadas por vírgula)
CORS_ORIGINS="http://localhost:3000,http://localhost:5173,https://eps-campanhas.vercel.app"

# Se deve permitir credentials em requisições CORS
CORS_CREDENTIALS=true

# ==================== FRONTEND ====================
# URL do frontend (para CORS e redirecionamentos)
FRONTEND_URL="http://localhost:3000"

# URL do painel administrativo (se diferente)
ADMIN_PANEL_URL="http://localhost:3000/admin"

# ==================== RATE LIMITING ====================
# Máximo de requisições por janela de tempo
RATE_LIMIT_MAX=100

# Janela de tempo para rate limiting (em milissegundos)
RATE_LIMIT_WINDOW=60000

# Rate limit específico para login (tentativas por janela)
LOGIN_RATE_LIMIT_MAX=5
LOGIN_RATE_LIMIT_WINDOW=900000

# ==================== UPLOAD DE ARQUIVOS ====================
# Tamanho máximo de arquivo em bytes (50MB)
MAX_FILE_SIZE=52428800

# Diretório para uploads temporários
UPLOAD_DIR="./uploads"

# Tipos de arquivo permitidos para upload
ALLOWED_FILE_TYPES=".xlsx,.xls,.csv"

# ==================== VALIDAÇÃO ====================
# Período de carência para validação de vendas (em dias)
DEFAULT_GRACE_PERIOD=30

# Número máximo de linhas por planilha
MAX_SPREADSHEET_ROWS=100000

# Tamanho do lote para processamento de planilhas
VALIDATION_BATCH_SIZE=1000

# ==================== EMAIL (OPCIONAL) ====================
# Configuração SMTP para envio de emails
SMTP_HOST="smtp.gmail.com"
SMTP_PORT=587
SMTP_USER="seu-email@gmail.com"
SMTP_PASS="sua-senha-de-app"
SMTP_FROM="EPS Campanhas <noreply@eps.com>"

# Se deve enviar emails (true/false)
ENABLE_EMAIL=false

# ==================== NOTIFICAÇÕES (OPCIONAL) ====================
# WhatsApp Business API (se disponível)
WHATSAPP_API_URL=""
WHATSAPP_API_TOKEN=""

# Push notifications (se implementado)
PUSH_NOTIFICATION_KEY=""

# ==================== LOGS ====================
# Nível de log (error, warn, info, debug, trace)
LOG_LEVEL=info

# Se deve salvar logs em arquivo
LOG_TO_FILE=false

# Diretório para arquivos de log
LOG_DIR="./logs"

# Rotação de logs (daily, weekly, monthly)
LOG_ROTATION=daily

# ==================== CACHE (REDIS - OPCIONAL) ====================
# URL de conexão com Redis (para cache avançado)
REDIS_URL="redis://localhost:6379"

# Se deve usar Redis para cache
USE_REDIS_CACHE=false

# Tempo padrão de cache em segundos
DEFAULT_CACHE_TTL=300

# ==================== MONITORAMENTO (OPCIONAL) ====================
# Sentry DSN para monitoramento de erros
SENTRY_DSN=""

# Se deve habilitar monitoramento
ENABLE_MONITORING=false

# Endpoint para health checks externos
HEALTH_CHECK_ENDPOINT="/health"

# ==================== INTEGRAÇÕES EXTERNAS (OPCIONAL) ====================
# API externa para consulta de CNPJs
CNPJ_API_URL="https://www.receitaws.com.br/v1/cnpj"
CNPJ_API_KEY=""

# API externa para consulta de CEPs
CEP_API_URL="https://viacep.com.br/ws"

# API de cotação de moedas (se necessário)
CURRENCY_API_URL=""
CURRENCY_API_KEY=""

# ==================== BACKUP (OPCIONAL) ====================
# Configuração para backup automático
BACKUP_ENABLED=false
BACKUP_SCHEDULE="0 2 * * *"
BACKUP_RETENTION_DAYS=30

# AWS S3 para backup (se configurado)
AWS_ACCESS_KEY_ID=""
AWS_SECRET_ACCESS_KEY=""
AWS_REGION="us-east-1"
AWS_S3_BUCKET="eps-campanhas-backup"

# ==================== DESENVOLVIMENTO ====================
# Se deve executar seed automaticamente
AUTO_SEED=true

# Se deve mostrar query logs do Prisma
PRISMA_DEBUG=false

# Se deve habilitar hot reload
HOT_RELOAD=true

# ==================== PRODUÇÃO ====================
# Domínio da aplicação em produção
PRODUCTION_DOMAIN="eps-campanhas.com"

# SSL/TLS
SSL_ENABLED=false
SSL_KEY_PATH=""
SSL_CERT_PATH=""

# Cluster mode (número de workers)
CLUSTER_WORKERS=0

# ==================== MÉTRICAS ====================
# Se deve coletar métricas de performance
COLLECT_METRICS=true

# Endpoint para métricas (Prometheus format)
METRICS_ENDPOINT="/metrics"

# ==================== SEGURANÇA ====================
# Chave para operações administrativas críticas
ADMIN_API_KEY="sua-chave-admin-super-secreta"

# Se deve habilitar rate limiting agressivo
AGGRESSIVE_RATE_LIMITING=false

# Headers de segurança customizados
SECURITY_HEADERS=true

# ==================== EXEMPLO DE USO ====================
# Para usar este arquivo:
# 1. Copie para .env: cp .env.example .env
# 2. Edite os valores conforme seu ambiente
# 3. NUNCA commite o arquivo .env no Git
# 4. Em produção, use variáveis de ambiente do sistema

# ==================== VALORES MÍNIMOS NECESSÁRIOS ====================
# Para funcionamento básico, você precisa configurar:
# - DATABASE_URL (banco PostgreSQL)
# - JWT_SECRET (chave para tokens)
# - JWT_REFRESH_SECRET (chave para refresh)
# - FRONTEND_URL (se diferente do padrão)
